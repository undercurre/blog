---
title: æ¨¡æ¿å»ºæˆè®°
date: 2022-11-16 00:02:40
tags:
---

è®²ä¸ªç¬‘è¯ï¼šæˆ‘ä»¥å‰ä»¥ä¸ºæ¨¡æ¿å°±æ˜¯æ¡†æ¶

# æ¨¡æ¿

ç®€å•ç‚¹è¯´ï¼Œå°±æ˜¯å¼€å‘çš„æ—¶å€™ä¸€å¤§å †å·¥å…·çš„é›†æˆä½“ï¼Œç›¸å½“äºå·¥å…·ç®±å’¯ï¼

å¥½å•¦ï¼ç­‰æˆ‘åœ°å“©ç»„è£…è‡ªå·±çš„å·¥å…·ç®±å•¦ï¼

## init a project
é€‰ä¸ªpnpmåšåŒ…ç®¡ç†å•¦æ¢—ç³»ï¼å› ä¸ºä¸€é˜µè¦ç”¨vueæ‰€ä»¥é€‰viteåšæ‰“åŒ…å·¥å…·
```
pnpm create vite
// ç„¶åè·Ÿç€æŒ‡å¼•é€‰vueï¼Œtypescript

// æ¡†æ¶è¢«å»ºå‡ºæ¥ä¹‹åä½ ä¼šè·å¾—ä¸€ä¸ªç”±vueå’Œtypescriptå»ºæˆçš„æœ€åˆæ¨¡æ¿ï¼ˆå¹²å‡€çš„ä¸€ç¬”ï¼‰
pnpm i
pnpm dev
// å‡ºæ¥ä¸€ä¸ªvueçš„æ¨¡æ¿é¡µé¢
```

## é›†æˆï¼ˆpresets/presets.tsï¼‰
### ä¿è¯vueçš„è¿è¡Œ(æ”¯æŒvueæ¨¡æ¿çš„è¯†åˆ«ä¸ç¼–è¯‘)
```
pnpm add @vitejs/plugin-vue @vitejs/plugin-vue-jsx -D
```
```ts
import vue from '@vitejs/plugin-vue';
import vueJsx from '@vitejs/plugin-vue-jsx';

export default [
    vue(),
    vueJsx(),
]
```
### add css
åŸå­åŒ–css unocss
```
pnpm add unocss -D
```

```ts
// presets/presets.ts
import Unocss from 'unocss/vite'

export default [
    Unocss(),
]
```

```ts
// main.ts
import 'uno.css'
```
### è‡ªåŠ¨å¼•å…¥æ’ä»¶
```
pnpm add unplugin-auto-import -D
```
```ts
import AutoImport from 'unplugin-auto-import/vite';

export default [
    AutoImport({
        include: [ // æ‰«æèŒƒå›´
            /\.[tj]sx?$/, // .ts, .tsx, .js, .jsx
            /\.vue$/, /\.vue\?vue/, // .vue
            /\.md$/, // .md
        ],
        imports: [ // ä½ éœ€è¦è‡ªåŠ¨å¼•å…¥ä»€ä¹ˆæ’ä»¶
            'vue'
        ],
        dts: './src/types/auto-imports.d.ts', // è¦ç”Ÿæˆç›¸åº”çš„ç±»ï¼Œä¸ç„¶è¿‡ä¸äº†ts
    })
]
```
### è‡ªåŠ¨å¼•å…¥ç»„ä»¶
```
npm install unplugin-vue-components -D
npm install vite-plugin-style-import -D
```
```ts
import Components from 'unplugin-vue-components/vite';
import { VantResolver, NaiveUiResolver } from 'unplugin-vue-components/resolvers';
import {
  createStyleImportPlugin,
  VantResolve
} from 'vite-plugin-style-import'


export default [
    Components({
        dirs: ['src/components/'], // æˆ‘åœ°æ»´ç»„ä»¶è‚¯å®šå†™å¯å“©åˆ°è‘›å˜›
        extensions: ['vue'], //  // ç»„ä»¶çš„æœ‰æ•ˆæ–‡ä»¶æ‰©å±•å
        include:[/\.vue$/, /\.vue\?vue/], // æ‰«æèŒƒå›´
        resolvers: [
            VantResolver(), // ç§»åŠ¨uiåº“
            NaiveUiResolver(), // PCç«¯UIåº“
        ], // uiåº“è§£æå™¨
        dts: './src/types/components.d.ts', // è¦ç”Ÿæˆç›¸åº”çš„ç±»ï¼Œä¸ç„¶è¿‡ä¸äº†tsï¼Œåœ¨srcä¸‹å»ºtypesæ–‡ä»¶å¤¹
    }),
    createStyleImportPlugin({
      resolves: [
        VantResolve()
      ],
    }),
]
```

### å›¾æ ‡åº“
```
pnpm add -D @iconify/json
```
```ts
import Icons from 'unplugin-icons/vite'
import IconsResolver from 'unplugin-icons/resolver'
import { FileSystemIconLoader } from 'unplugin-icons/loaders';

export default [
    Components({
        resolvers: [
            IconsResolver({ customCollections: ['custom'] }),
        ]
    }),
    Icons({
        compiler: 'vue3', // é€‚åº”vue3ä¾èµ–
        customCollections: {
          custom: FileSystemIconLoader('./assets/svg'), // è‡ªå®šä¹‰ç›®å½•
        },
        autoInstall: true, // è‡ªåŠ¨å®‰è£…
    }),
]
```
```vue
  <i-mdi-account-box />
  <i-mdi-alarm-off />
```

### å­—ä½“åº“
```
pnpm add vite-plugin-fonts -D
```

```ts
import ViteFonts from 'vite-plugin-fonts';

export default [
    ViteFonts({
      google: {
        families: ['Open Sans', 'Montserrat', 'Fira Sans'],
      },
    }),
]
```

### å›½é™…åŒ–
```
pnpm add @intlify/vite-plugin-vue-i18n -D
```

```ts
import VueI18n from '@intlify/vite-plugin-vue-i18n';

export default [
    VueI18n({
        include: ['../src/locales/'], // ç¿»è¯‘ç›®å½•,åœ¨srcä¸‹æ–°å»ºlocalesæ–‡ä»¶å¤¹
    }),
]
```

```ts
// main.ts
import { createI18n } from 'vue-i18n'

import en from './locales/en.json'
import zh from './locales/zh-CN.json'

const i18n = createI18n({
    locale: 'zh',
    messages: {
      en,
      zh
    }
})

app.use(i18n)
```
```json
{
  "language": "English"
}
```
```json
{
  "language": "ä¸­æ–‡"
}
```
```vue
 <div>{{ $t('language') }}</div>
```

## è§„èŒƒåŒ–
### ESLintï¼ˆè§„èŒƒè¯­æ³•ï¼‰
```
pnpm i -D eslint
npx eslint --init
ä¸Šé¢çš„åˆå§‹åŒ–ä¼šæç¤ºä½ ä¸‹è½½ä¸‹é¢è¿™äº›
pnpm i eslint eslint-plugin-vue --save-dev
ç”±äº ESLint é»˜è®¤æ— æ³•è¯†åˆ« TypeScriptï¼Œéœ€è¦å®‰è£… @typescript-eslint/parser æ›¿ä»£æ‰é»˜è®¤çš„è§£æå™¨ã€‚
pnpm install @typescript-eslint/parser --save-dev
å®‰è£… @typescript-eslint/eslint-plugin ä½œä¸º eslint é»˜è®¤è§„åˆ™çš„è¡¥å……ï¼Œæä¾›äº†é€‚ç”¨äº ts è¯­æ³•çš„è§„åˆ™ã€‚
pnpm install @typescript-eslint/eslint-plugin --save-dev
```
æœ€ååœ¨package.jsonä¸­æ·»åŠ å‘½ä»¤
```json
"eslint:comment": "ä½¿ç”¨ ESLint æ£€æŸ¥å¹¶è‡ªåŠ¨ä¿®å¤ src ç›®å½•ä¸‹æ‰€æœ‰æ‰©å±•åä¸º .js å’Œ .vue çš„æ–‡ä»¶",
"eslint": "eslint --ext .js,.vue --ignore-path .gitignore --fix src"
```

```.eslintrc.cjs 
    // é…ç½®vue3ã€ts
    "parser": "vue-eslint-parser",
    "parserOptions": {
        "parser": "@typescript-eslint/parser",
    },
```
### Prettierï¼ˆè§„èŒƒæ ¼å¼ï¼‰
```
pnpm i prettier eslint-config-prettier eslint-plugin-prettier --save-dev
```
åœ¨æ ¹ç›®å½•æ–°å»º.prettierrc.js
```package.json
  "prettier:comment": "è‡ªåŠ¨æ ¼å¼åŒ–å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶",
  "prettier": "prettier --write"
```

### è§£å†³eslintä¸prettierçš„å†²çª

eslint-plugin-prettierï¼š åŸºäº prettier ä»£ç é£æ ¼çš„ eslint è§„åˆ™ï¼Œå³eslintä½¿ç”¨pretterè§„åˆ™æ¥æ ¼å¼åŒ–ä»£ç ã€‚
eslint-config-prettierï¼š ç¦ç”¨æ‰€æœ‰ä¸æ ¼å¼ç›¸å…³çš„ eslint è§„åˆ™ï¼Œè§£å†³ prettier ä¸ eslint è§„åˆ™å†²çªï¼Œç¡®ä¿å°†å…¶æ”¾åœ¨ extends é˜Ÿåˆ—æœ€åï¼Œè¿™æ ·å®ƒå°†è¦†ç›–å…¶ä»–é…ç½®

```
pnpm add eslint-config-prettier eslint-plugin-prettier -D
```

```.eslintrc.cjs 
   { 
    extends: [
      'eslint:recommended',
      'plugin:vue/vue3-essential',
      'plugin:@typescript-eslint/recommended',
  +    // æ–°å¢ï¼Œå¿…é¡»æ”¾åœ¨æœ€åé¢
  +   'plugin:prettier/recommended' 
    ],
  }
```

### lint-staged
lint-stagedèƒ½å¤Ÿè®©lintåªæ£€æµ‹æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œæ‰€ä»¥é€Ÿåº¦å¾ˆå¿«ã€‚
```
pnpm add lint-staged -D
```


### stylelintï¼ˆè§„èŒƒcssï¼‰

```
pnpm add stylelint postcss postcss-less postcss-html stylelint-config-prettier stylelint-config-recommended-scss stylelint-config-standard stylelint-config-standard-vue stylelint-scss stylelint-order -D
```
```package.json
"stylelint": "stylelint \"./**/*.{css,less,vue,html}\" --fix"
```

### huskyï¼ˆè§„èŒƒæäº¤ï¼‰

```
pnpm add husky -D
```
```package.json
"prepare": "husky install"
```
```
pnpm husky add .husky/pre-commit "pnpm lint && pnpm format && pnpm lint:style"
```
è¯¥å‘½ä»¤ä¼šåœ¨pnpm installä¹‹åè¿è¡Œï¼Œè¿™æ ·å…¶ä»–å…‹éš†è¯¥é¡¹ç›®çš„åŒå­¦å°±åœ¨è£…åŒ…çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æ‰§è¡Œè¯¥å‘½ä»¤æ¥å®‰è£…huskyã€‚

### commitlintå’Œcommitizen(æäº¤è§„èŒƒ)
commitlintè§„èŒƒæäº¤æ’ä»¶
@commitlint/config-conventional å…±äº«æäº¤é…ç½®å¼ºåˆ¶å¸¸è§„æäº¤
commitlint-config-czç›¸å…³é…ç½®
cz-customizableè‡ªå®šä¹‰é…ç½®

```
pnpm i commitlint @commitlint/config-conventional -D
npm set-script commit "git add . && git-cz"
npx commitizen init cz-conventional-changelog --save-dev --save-exact
pnpm i -D commitlint-config-cz  cz-customizable
```
æ ¹ç›®å½•æ–°å»ºcommitlint.config.jså’Œcz-config.js
```commitlint.config.js
module.exports = {
    extends:  ['cz'],
    rules: {
        // è‡ªå®šä¹‰è§„åˆ™
    }
}
```
```cz-config.js
'use strict'
module.exports = {
  types: [
    { value: 'âœ¨æ–°å¢', name: 'æ–°å¢:    æ–°çš„å†…å®¹' },
    { value: 'ğŸ›ä¿®å¤', name: 'ä¿®å¤:    ä¿®å¤ä¸€ä¸ªBug' },
    { value: 'ğŸ“æ–‡æ¡£', name: 'æ–‡æ¡£:    å˜æ›´çš„åªæœ‰æ–‡æ¡£' },
    { value: 'ğŸ’„æ ¼å¼', name: 'æ ¼å¼:    ç©ºæ ¼, åˆ†å·ç­‰æ ¼å¼ä¿®å¤' },
    { value: 'â™»ï¸é‡æ„', name: 'é‡æ„:    ä»£ç é‡æ„ï¼Œæ³¨æ„å’Œç‰¹æ€§ã€ä¿®å¤åŒºåˆ†å¼€' },
    { value: 'âš¡ï¸æ€§èƒ½', name: 'æ€§èƒ½:    æå‡æ€§èƒ½' },
    { value: 'âœ…æµ‹è¯•', name: 'æµ‹è¯•:    æ·»åŠ ä¸€ä¸ªæµ‹è¯•' },
    { value: 'ğŸ”§å·¥å…·', name: 'å·¥å…·:    å¼€å‘å·¥å…·å˜åŠ¨(æ„å»ºã€è„šæ‰‹æ¶å·¥å…·ç­‰)' },
    { value: 'âªå›æ»š', name: 'å›æ»š:    ä»£ç å›é€€' }
  ],
  scopes: [
    { name: 'leetcode' },
    { name: 'javascript' },
    { name: 'typescript' },
    { name: 'Vue' },
    { name: 'node' }
  ],
  // it needs to match the value for field type. Eg.: 'fix'
  /*  scopeOverrides: {
    fix: [
      {name: 'merge'},
      {name: 'style'},
      {name: 'e2eTest'},
      {name: 'unitTest'}
    ]
  },  */
  // override the messages, defaults are as follows
  messages: {
    type: 'é€‰æ‹©ä¸€ç§ä½ çš„æäº¤ç±»å‹:',
    scope: 'é€‰æ‹©ä¸€ä¸ªscope (å¯é€‰):',
    // used if allowCustomScopes is true
    customScope: 'Denote the SCOPE of this change:',
    subject: 'çŸ­è¯´æ˜:\n',
    body: 'é•¿è¯´æ˜ï¼Œä½¿ç”¨"|"æ¢è¡Œ(å¯é€‰)ï¼š\n',
    breaking: 'éå…¼å®¹æ€§è¯´æ˜ (å¯é€‰):\n',
    footer: 'å…³è”å…³é—­çš„issueï¼Œä¾‹å¦‚ï¼š#31, #34(å¯é€‰):\n',
    confirmCommit: 'ç¡®å®šæäº¤è¯´æ˜?(yes/no)'
  },
  allowCustomScopes: true,
  allowBreakingChanges: ['ç‰¹æ€§', 'ä¿®å¤'],
  // limit subject length
  subjectLimit: 100
}
```

```package.json
  // package.json
    "config": {
        "commitizen": {
            "path": "node_modules/cz-customizable"
        }
    }
```
## åŠŸèƒ½æ’ä»¶

### piniaå¤§è è
```
 pnpm i pinia --save
```
æ–°å»ºsrc/store/index.ts
```
Â import { createPinia } from 'pinia'

Â const store = createPinia()

Â export default store
```
åœ¨main.tsä¸­å¼•å…¥å’ŒæŒ‚è½½
```
  import store from './store'
  // æŒ‚è½½pinia
Â  app.use(store)
```

### vue-router
```
pnpm i vue-router --save
```
æ–°å»ºsrc/router/index.ts
```
Â import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router';

Â const routes: Array<RouteRecordRaw> = [
Â   {
Â  Â  Â  Â path: '/',
Â  Â  Â  Â name: 'Index',
Â  Â  Â  Â meta: {
Â  Â  Â  Â  Â  Â title: 'é¦–é¡µ',
Â  Â  Â  Â  Â  Â keepAlive: true,
Â  Â  Â  Â  Â  Â requireAuth: true
Â  Â  Â   },
Â  Â  Â  Â component: () => import('@/view/index.vue')
Â   }
Â ]

Â const router = createRouter({
Â  Â history: createWebHistory(),
Â  Â routes
Â });
Â export default router;
```
åœ¨mainä¸­å¼•å…¥å’ŒæŒ‚è½½
```
import router from './router';
app.use(router);
```
åœ¨App.vueä¸­ä½¿ç”¨
```
 <template>
   <RouterView/>
 </template>
 ```
### vue-use
å®ƒæ˜¯ä¸€ä¸ªåŸºäº Composition API çš„å®ç”¨å‡½æ•°é›†åˆ
```
 pnpm i @vueuse/core
```
### axios
```
pnpm i axios
```
å°è£…

è¿™é‡Œå°±ä¸å¾—ä¸è¯´è¯´å°è£…çš„æ„ä¹‰ï¼šæˆ‘ä»¬å…ˆè¯´è¯´å¦‚æœä¸å°è£…ä¼šæ€ä¹ˆæ ·ï¼Ÿæ²¡æœ‰æ‹¦æˆªå™¨ï¼Œæ¯æ¬¡éœ€è¦å¯¹å‚æ•°ã€ç”¨æˆ·æ ‡è¯†è¿›è¡Œä¿®æ”¹æ—¶å°±è¦å†™ä¸€æ¬¡ï¼Œæ‰€ä»¥å°è£…èƒ½å¤Ÿæå¤§æé«˜ä»£ç çš„å¤ç”¨æ€§ã€‚

è¿™æ˜¯ä»äººå®¶æ–‡ç« æŒ–çš„å›¾ã€‚æš‚æ—¶å…ˆç”¨ç€ã€‚
<img src="../images/axios.webp" />
è¿™å›¾çªå‡ºäº†å°è£…çš„ä¸¤ä¸ªè¦ç‚¹ï¼šæµç¨‹ + æ‹¦æˆª
```

```
### css-scss

### postcss

### postcss-px-to-viewport-8-plugin

## ç¯å¢ƒé…ç½®

## å•å…ƒæµ‹è¯•